# –û—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–≤–µ—Ä–∫–µ DDD –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏

## –î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏
2024

## –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞
–ü—Ä–æ–µ–∫—Ç –≤ —Ü–µ–ª–æ–º —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∏–Ω—Ü–∏–ø–∞–º DDD, –Ω–æ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è.

---

## ‚úÖ –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã DDD –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤
- ‚úÖ **Domain** - —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–≥—Ä–µ–≥–∞—Ç—ã, –¥–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è, value objects, —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
- ‚úÖ **Application** - —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, DTOs, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- ‚úÖ **Infrastructure** - —Å–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤, –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ë–î
- ‚úÖ **Api** - —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫—É DI

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤
- ‚úÖ `Article` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –∞–≥—Ä–µ–≥–∞—Ç —Å –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–µ–π –ª–æ–≥–∏–∫–∏
- ‚úÖ `Section` - –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –∞–≥—Ä–µ–≥–∞—Ç
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `AggregateRoot<T>` –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

### 3. –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- ‚úÖ `ArticleCreatedEvent` - –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —Å—Ç–∞—Ç—å–∏
- ‚úÖ `ArticleTagsChangedEvent` - –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–≥–æ–≤
- ‚úÖ `ArticleDeletedEvent` - –ø—É–±–ª–∏–∫—É–µ—Ç—Å—è –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—å–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –≤ Application —Å–ª–æ–µ (`ArticleCreatedEventHandler`, `ArticleTagsChangedEventHandler`, `ArticleDeletedEventHandler`)

### 4. Value Objects
- ‚úÖ `TagSetKey` - –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏ —Å—Ç–∞—Ç–µ–π –ø–æ –Ω–∞–±–æ—Ä–∞–º —Ç–µ–≥–æ–≤
- ‚úÖ `SortDate` - –¥–ª—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ —Å—Ç–∞—Ç–µ–π

### 5. –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤ –¥–æ–º–µ–Ω–Ω—ã—Ö —Å—É—â–Ω–æ—Å—Ç—è—Ö (`Article.Create`, `Article.SetTags`)
- ‚úÖ –§–∞–±—Ä–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–≥—Ä–µ–≥–∞—Ç–æ–≤
- ‚úÖ –ü—Ä–∏–≤–∞—Ç–Ω—ã–µ —Å–µ—Ç—Ç–µ—Ä—ã –¥–ª—è –∑–∞—â–∏—Ç—ã –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–æ–≤

---

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã DDD –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### 1. –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–æ–º–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å
**–ü—Ä–æ–±–ª–µ–º–∞:** `SectionGenerator` (DomainServices) —Å–æ–∑–¥–∞–Ω –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ DI, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–¥–µ. –í–º–µ—Å—Ç–æ –Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ `Section.Create()`.

**–§–∞–π–ª—ã:**
- `ArticleCatalog.Domain/DomainServices/SectionGenerator.cs`
- `ArticleCatalog.Api/Extensions/ServiceCollectionExtensions.cs:38` (–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ DI)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –õ–∏–±–æ —É–¥–∞–ª–∏—Ç—å `SectionGenerator` –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ISectionGenerator`, –µ—Å–ª–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥ –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω
- –õ–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å —á–µ—Ä–µ–∑ DI, –µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–∞–∑–¥–µ–ª–æ–≤ –∏–ª–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 2. Tag –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–≥—Ä–µ–≥–∞—Ç–æ–º
**–ü—Ä–æ–±–ª–µ–º–∞:** `Tag` - —ç—Ç–æ –æ–±—ã—á–Ω–∞—è entity, –∞ –Ω–µ –∞–≥—Ä–µ–≥–∞—Ç. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ä–∞–≤–¥–∞–Ω–æ, –µ—Å–ª–∏ —Ç–µ–≥–∏ –Ω–µ –∏–º–µ—é—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** 
- –ï—Å–ª–∏ —Ç–µ–≥–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ - —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–µ–º–ª–µ–º–∞
- –ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π) - —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫ –∞–≥—Ä–µ–≥–∞—Ç

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏

### 1. –¢—ç–≥
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, –º–∞–∫—Å–∏–º—É–º 256 —Å–∏–º–≤–æ–ª–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ `TagConfiguration`)
- ‚úÖ –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞–∑–≤–∞–Ω–∏—è —á–µ—Ä–µ–∑ –∏–Ω–¥–µ–∫—Å –≤ –ë–î
- ‚ö†Ô∏è **–ü–†–û–ë–õ–ï–ú–ê:** –†–µ–≥–∏—Å—Ç—Ä–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î (—Å–º. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã)

### 2. –°—Ç–∞—Ç—å—è
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, –º–∞–∫—Å–∏–º—É–º 256 —Å–∏–º–≤–æ–ª–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ `Article.Create`)
- ‚úÖ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- ‚úÖ –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π (—á–µ—Ä–µ–∑ `Position` –≤ `ArticleTag`)
- ‚úÖ –ë–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ `Article.Create` —á–µ—Ä–µ–∑ `Distinct(StringComparer.OrdinalIgnoreCase)`)
- ‚úÖ –ú–∞–∫—Å–∏–º—É–º 256 —Ç–µ–≥–æ–≤ (–≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ `Article.ValidateTagCount`)
- ‚úÖ –ü–æ—Ä—è–¥–æ–∫ —Ç–µ–≥–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ —á–µ—Ä–µ–∑ `Article.GetTagNames` (—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ `Position`)

### 3. –†–∞–∑–¥–µ–ª
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ, –º–∞–∫—Å–∏–º—É–º 1024 —Å–∏–º–≤–æ–ª–∞ (–≤–∞–ª–∏–¥–∞—Ü–∏—è –≤ `SectionConfiguration`)
- ‚úÖ –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤ —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã–π, –±–µ–∑ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
- ‚úÖ –ü—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å —Å—Ç–∞—Ç–µ–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é –Ω–∞–±–æ—Ä–∞ —Ç–µ–≥–æ–≤ (–±–µ–∑ —É—á–µ—Ç–∞ –ø–æ—Ä—è–¥–∫–∞) —á–µ—Ä–µ–∑ `TagSetKey`
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏–µ–π –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–µ–≥–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é (`Section.BuildTitle`)
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—Ä–µ–∑–∞–µ—Ç—Å—è –¥–æ 1024 —Å–∏–º–≤–æ–ª–æ–≤

### 4. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### CRUD —Å—Ç–∞—Ç–µ–π
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ –ø–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É (`ArticlesController.Get`)
- ‚úÖ –°–ø–∏—Å–æ–∫ —Ç–µ–≥–æ–≤ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ —É–∫–∞–∑–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (`Article.GetTagNames` —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ `Position`)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ (`ArticlesController.Create`)
- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ (`ArticlesController.Update`)
- ‚úÖ –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

#### –ö–∞—Ç–∞–ª–æ–≥ —Å—Ç–∞—Ç–µ–π
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ä–∞–∑–¥–µ–ª–æ–≤ (`SectionsController.GetAll`)
- ‚úÖ –°–ø–∏—Å–æ–∫ —Ä–∞–∑–¥–µ–ª–æ–≤ —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ —É–±—ã–≤–∞–Ω–∏—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å—Ç–∞—Ç–µ–π (`SectionService.GetSectionsAsync`)
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –≤ —Ä–∞–∑–¥–µ–ª–µ (`SectionsController.GetArticles`)
- ‚úÖ –ü—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—é –Ω–∞–±–æ—Ä–∞ —Ç–µ–≥–æ–≤ (`ArticleRepository.GetByTagSetKeyAsync`)
- ‚úÖ –°–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–µ–π —Å–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ —É–±—ã–≤–∞–Ω–∏—é –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è (`SectionService.GetSectionArticlesAsync` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `SortDate.Resolve`)

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–æ–≤
- ‚úÖ –î–ª—è –∫–∞–∂–¥–æ–≥–æ —É–Ω–∏–∫–∞–ª—å–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ç–µ–≥–æ–≤ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ä–∞–∑–¥–µ–ª (`ArticleCreatedEventHandler`, `ArticleTagsChangedEventHandler`)
- ‚úÖ –†–∞–∑–¥–µ–ª —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å—Ç–∞—Ç–µ–π (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/–∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç–∞—Ç–µ–π)
- ‚úÖ –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–≥–æ–≤ —Å—Ç–∞—Ç—å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Ä–∞–∑–¥–µ–ª (—á–µ—Ä–µ–∑ `ArticleTagsChangedEvent`)
- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞ - –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π —Ç–µ–≥–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é, –æ–±—Ä–µ–∑–∞–Ω–Ω–∞—è –¥–æ 1024 —Å–∏–º–≤–æ–ª–æ–≤

---

## üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å —Ç–µ–≥–æ–≤ –Ω–µ —Ä–µ–≥–∏—Å—Ç—Ä–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î

**–ü—Ä–æ–±–ª–µ–º–∞:** 
–í `TagConfiguration` —Å–æ–∑–¥–∞–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ `Name`, –Ω–æ PostgreSQL –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å–æ–∑–¥–∞–µ—Ç case-sensitive –∏–Ω–¥–µ–∫—Å. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ —Ç–µ–≥–∏ "Tag" –∏ "tag" –º–æ–≥—É—Ç —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤ –ë–î, —á—Ç–æ –Ω–∞—Ä—É—à–∞–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ "—Ä–µ–≥–∏—Å—Ç—Ä–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å".

**–§–∞–π–ª—ã:**
- `ArticleCatalog.Infrastructure/Configurations/TagConfiguration.cs:18`
- `ArticleCatalog.Infrastructure/Repositories/TagRepository.cs:21` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `ToLower()` –≤ –∑–∞–ø—Ä–æ—Å–µ, –Ω–æ –Ω–µ –≤ –∏–Ω–¥–µ–∫—Å–µ)

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –í–æ–∑–º–æ–∂–Ω—ã –¥—É–±–ª–∏–∫–∞—Ç—ã —Ç–µ–≥–æ–≤ —Å —Ä–∞–∑–Ω—ã–º —Ä–µ–≥–∏—Å—Ç—Ä–æ–º –≤ –ë–î
- –ù–∞—Ä—É—à–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª –ø—Ä–µ–¥–º–µ—Ç–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è (lowercase) –≤ PostgreSQL
2. –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å computed column –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –∏–º–µ–Ω–∏

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```csharp
// –í TagConfiguration.cs
b.HasIndex(x => x.Name.ToLower()).IsUnique(); // –ù–ï –†–ê–ë–û–¢–ê–ï–¢ –≤ EF Core –Ω–∞–ø—Ä—è–º—É—é

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ - –¥–æ–±–∞–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é:
migrationBuilder.CreateIndex(
    name: "IX_tags_Name_Lower",
    table: "tags",
    column: "Name",
    unique: true,
    filter: null);
// –ò –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é LOWER –≤ SQL
```

–ò–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ `NormalizedName` –≤ `Tag` –∏ –∏–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ.

### 2. –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)

**–ü—Ä–æ–±–ª–µ–º–∞:** 
–ú–µ—Ç–æ–¥—ã `GetByTagSetKeyAsync` –∏ `CountArticlesByTagSetKeyAsync` –∑–∞–≥—Ä—É–∂–∞—é—Ç –í–°–ï —Å—Ç–∞—Ç—å–∏ –≤ –ø–∞–º—è—Ç—å, –∞ –∑–∞—Ç–µ–º —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –≤ –ø–∞–º—è—Ç–∏. –≠—Ç–æ –Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å—Ç–∞—Ç–µ–π.

**–§–∞–π–ª—ã:**
- `ArticleCatalog.Infrastructure/Repositories/ArticleRepository.cs:52-70`
- `ArticleCatalog.Infrastructure/Repositories/SectionRepository.cs:55-75`

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ü–ª–æ—Ö–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å—Ç–∞—Ç–µ–π
- –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQL –∑–∞–ø—Ä–æ—Å—ã —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ë–î. –û–¥–Ω–∞–∫–æ, —ç—Ç–æ —Å–ª–æ–∂–Ω–æ –∏–∑-–∑–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –Ω–∞–±–æ—Ä–æ–≤ —Ç–µ–≥–æ–≤.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –≤—ã—á–∏—Å–ª—è–µ–º–æ–µ –ø–æ–ª–µ `TagSetKey` –≤ —Ç–∞–±–ª–∏—Ü—É `articles` (—á–µ—Ä–µ–∑ computed column –∏–ª–∏ —Ç—Ä–∏–≥–≥–µ—Ä)
- –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ –ø–æ–ª–µ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–π SQL –∑–∞–ø—Ä–æ—Å: `WHERE TagSetKey = @tagSetKey`

---

## ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ Application

‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:** –í–∞–ª–∏–¥–∞—Ç–æ—Ä—ã FluentValidation –¥–ª—è `CreateArticleRequest` –∏ `UpdateArticleRequest` —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –≤ DI. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ `AddFluentValidationAutoValidation()`.

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–ü—Ä–æ–±–ª–µ–º–∞:** 
–í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è try-catch, –Ω–æ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ—à–∏–±–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏—Å–∫–ª—é—á–µ–Ω–∏–π (middleware)
- –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤ –æ–± –æ—à–∏–±–∫–∞—Ö

### 3. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω–æ—Å—Ç—å

**–ü—Ä–æ–±–ª–µ–º–∞:** 
–î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –ø–æ—Å–ª–µ `SaveChangesAsync`, –Ω–æ –µ—Å–ª–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π –ø–∞–¥–∞—é—Ç, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è —É–∂–µ –∑–∞–∫–æ–º–º–∏—á–µ–Ω–∞.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
- –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ Outbox –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–æ–±—ã—Ç–∏–π
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π

---

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### 1. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –∏–º—è –¥–ª—è —Ç–µ–≥–æ–≤
```csharp
public class Tag
{
    public Guid Id { get; set; }
    public string Name { get; set; } = string.Empty;
    public string NormalizedName { get; private set; } = string.Empty; // –î–æ–±–∞–≤–∏—Ç—å
    
    // –ú–µ—Ç–æ–¥ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏–º–µ–Ω–∏ —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π
    public void SetName(string name)
    {
        Name = name.Trim();
        NormalizedName = name.Trim().ToLowerInvariant();
    }
}
```

### 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î
- –î–æ–±–∞–≤–∏—Ç—å `TagSetKey` –≤ —Ç–∞–±–ª–∏—Ü—É `articles` –∫–∞–∫ computed column
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞

### 3. –î–æ–±–∞–≤–∏—Ç—å unit-—Ç–µ—Å—Ç—ã
- –ë–æ–ª—å—à–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤
- –¢–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–µ–≥–æ–≤
- –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

### 4. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –î–æ–±–∞–≤–∏—Ç—å XML-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –ø—É–±–ª–∏—á–Ω—ã—Ö API
- –û–ø–∏—Å–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

### DDD –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: 8/10
- –•–æ—Ä–æ—à–µ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–ª–æ–µ–≤
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ –∏ –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- –ù–µ–±–æ–ª—å—à–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º –∫–æ–¥–æ–º

### –ü—Ä–µ–¥–º–µ—Ç–Ω–∞—è –æ–±–ª–∞—Å—Ç—å: 7/10
- –ë–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- **–ö–†–ò–¢–ò–ß–ù–û:** –ü—Ä–æ–±–ª–µ–º–∞ —Å —Ä–µ–≥–∏—Å—Ç—Ä–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é —Ç–µ–≥–æ–≤ –≤ –ë–î
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∑–∞–ø—Ä–æ—Å–æ–≤

### –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞: 7.5/10

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

1. **–í–´–°–û–ö–ò–ô:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–æ-–Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ç–µ–≥–æ–≤ –≤ –ë–î
2. **–í–´–°–û–ö–ò–ô:** –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã `GetByTagSetKeyAsync` –∏ `CountArticlesByTagSetKeyAsync`
3. **–°–†–ï–î–ù–ò–ô:** –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π `SectionGenerator` –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ
4. **–ù–ò–ó–ö–ò–ô:** –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é

